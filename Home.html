<!DOCTYPE html>
<html lang="en"><head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>YOURPER</title>
<link href="https://fonts.googleapis.com" rel="preconnect"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;900&amp;display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet"/>
<script src="https://cdn.tailwindcss.com?plugins=container-queries"></script>
<script id="tailwind-config">
    tailwind.config = {
      darkMode: "class",
      theme: {
        extend: {
          colors: {
            "primary": "#13a4ec",
            "background-light": "#f6f7f8",
            "background-dark": "#101c22",
          },
          fontFamily: {
            "display": ["Inter"]
          },
          borderRadius: {
            "DEFAULT": "0.5rem",
            "lg": "1rem",
            "xl": "1.5rem",
            "full": "9999px"
          },
        },
      },
    }
  </script>
<style>
    .material-symbols-outlined {
      font-variation-settings: 'FILL' 0,
        'wght' 400,
        'GRAD' 0,
        'opsz' 24
    }
    body {
      min-height: max(884px, 100 dvh);
    }
  </style>
<style>
    body {
      min-height: max(884px, 100dvh);
    }
  </style>
<style>
    body {
      min-height: max(884px, 100dvh);
    }
  </style>
  </head>
<body class="bg-background-light dark:bg-background-dark font-display">
<div class="relative flex h-auto min-h-screen w-full flex-col justify-between group/design-root overflow-x-hidden">
<div class="flex-grow">
<header class="flex items-center justify-between p-4 bg-background-light dark:bg-background-dark">
<div class="w-12"></div>
<h1 class="flex-1 text-center text-lg font-bold text-background-dark dark:text-background-light">Home</h1>
<button class="flex h-12 w-12 items-center justify-center rounded-full bg-primary/10 text-background-dark dark:text-background-light">
<img alt="User profile picture" class="h-12 w-12 rounded-full object-cover" src="https://lh3.googleusercontent.com/aida-public/AB6AXuAPwE6ofX6KU4HsRMdTZziluvLRd-DVRtGQ4hh7icg2vQMWpyRwplMjqKyKWMZ9mWlj4MBm-F9KXEEtc6RacxVor21aWtPWEW1_2yNTnLyg4SZHKu-s-qBmkhgNt14g4NyOEj7Wpmh3dUaU5wFBax8Y2D7rXCcXp9NK6k0BWyZXSL4uN_Bas1fcbyz6xCP49_K-f3sEsJjRdTLow9Vvgh9-2sm7nRp5Mw6ZM24J7XZUx2vOfFWh2P5urpUItgkO1nKTrI6Sg5j-eHE"/>
</button>
</header>
<main class="px-4 pb-4">
<div class="mb-6">
<h2 class="text-3xl font-bold text-background-dark dark:text-background-light">Welcome back, Marvin</h2>
<p class="text-base text-background-dark/60 dark:text-background-light/60 mt-1">Your well-being is our priority. Here's a look at your recent mood data.</p>
</div>
<div class="space-y-6">
<div class="rounded-xl bg-primary/5 p-4 dark:bg-primary/10">
<div class="flex justify-between items-center mb-4">
<h3 class="text-lg font-bold text-background-dark dark:text-background-light">Weekly Mood</h3>
<div class="flex items-center gap-2 text-sm text-background-dark/60 dark:text-background-light/60">
<span>Last 7 days</span>
<span class="material-symbols-outlined">expand_more</span>
</div>
</div>
<div class="flex justify-around items-end h-48 border-b border-primary/20 pb-2">
<div class="flex flex-col items-center gap-2">
<div class="w-8 bg-primary/20 rounded-t-full" style="height: 60%;"></div>
<span class="text-xs text-background-dark/60 dark:text-background-light/60">M</span>
</div>
<div class="flex flex-col items-center gap-2">
<div class="w-8 bg-primary/40 rounded-t-full" style="height: 75%;"></div>
<span class="text-xs text-background-dark/60 dark:text-background-light/60">T</span>
</div>
<div class="flex flex-col items-center gap-2">
<div class="w-8 bg-primary/60 rounded-t-full" style="height: 85%;"></div>
<span class="text-xs text-background-dark/60 dark:text-background-light/60">W</span>
</div>
<div class="flex flex-col items-center gap-2">
<div class="w-8 bg-primary/30 rounded-t-full" style="height: 50%;"></div>
<span class="text-xs text-background-dark/60 dark:text-background-light/60">T</span>
</div>
<div class="flex flex-col items-center gap-2">
<div class="w-8 bg-primary/50 rounded-t-full" style="height: 70%;"></div>
<span class="text-xs text-background-dark/60 dark:text-background-light/60">F</span>
</div>
<div class="flex flex-col items-center gap-2">
<div class="w-8 bg-primary/70 rounded-t-full" style="height: 90%;"></div>
<span class="text-xs text-background-dark/60 dark:text-background-light/60">S</span>
</div>
<div class="flex flex-col items-center gap-2">
<div class="w-8 bg-primary rounded-t-full" style="height: 95%;"></div>
<span class="text-xs text-background-dark/60 dark:text-background-light/60">S</span>
</div>
</div>
<div class="flex justify-between text-xs text-background-dark/60 dark:text-background-light/60 pt-2">
<span>Low</span>
<span>High</span>
</div>
</div>
<div class="rounded-xl bg-primary/5 p-4 dark:bg-primary/10">
<h3 class="text-lg font-bold text-background-dark dark:text-background-light mb-4">Mood Components</h3>
<div class="flex flex-col md:flex-row items-center justify-center gap-6">
<div class="relative h-48 w-48">
<svg class="w-full h-full" viewBox="0 0 36 36">
<circle class="text-red-400" cx="18" cy="18" fill="none" r="16" stroke="currentColor" stroke-dasharray="40, 100" stroke-width="4"></circle>
<circle class="text-yellow-400" cx="18" cy="18" fill="none" r="16" stroke="currentColor" stroke-dasharray="30, 100" stroke-dashoffset="-40" stroke-width="4"></circle>
<circle class="text-green-400" cx="18" cy="18" fill="none" r="16" stroke="currentColor" stroke-dasharray="20, 100" stroke-dashoffset="-70" stroke-width="4"></circle>
<circle class="text-blue-400" cx="18" cy="18" fill="none" r="16" stroke="currentColor" stroke-dasharray="10, 100" stroke-dashoffset="-90" stroke-width="4"></circle>
</svg>
<div class="absolute inset-0 flex items-center justify-center">
<span class="text-2xl font-bold text-background-dark dark:text-background-light">72%</span>
</div>
</div>
<div class="grid grid-cols-2 gap-x-6 gap-y-3">
<div class="flex items-center gap-2">
<div class="w-3 h-3 rounded-full bg-red-400"></div>
<span class="text-sm text-background-dark/80 dark:text-background-light/80">Stress</span>
</div>
<div class="flex items-center gap-2">
<div class="w-3 h-3 rounded-full bg-yellow-400"></div>
<span class="text-sm text-background-dark/80 dark:text-background-light/80">Anxiety</span>
</div>
<div class="flex items-center gap-2">
<div class="w-3 h-3 rounded-full bg-green-400"></div>
<span class="text-sm text-background-dark/80 dark:text-background-light/80">Happiness</span>
</div>
<div class="flex items-center gap-2">
<div class="w-3 h-3 rounded-full bg-blue-400"></div>
<span class="text-sm text-background-dark/80 dark:text-background-light/80">Sadness</span>
</div>
</div>
</div>
<p class="text-sm text-background-dark/60 dark:text-background-light/60 mt-4 text-center">A breakdown of your emotional states this past week.</p>
</div>
<div class="rounded-xl bg-primary/5 p-4 dark:bg-primary/10">
<h3 class="text-lg font-bold text-background-dark dark:text-background-light mb-4">Mood Analysis</h3>
<div class="relative h-48">
<svg class="absolute inset-0 w-full h-full" viewBox="0 0 200 100">
<path d="M 0 60 C 20 80, 40 40, 60 50 S 100 80, 120 70 S 160 30, 200 40" fill="none" stroke="#13a4ec" stroke-width="2"></path>
<circle cx="60" cy="50" fill="#13a4ec" r="3"></circle>
<circle cx="120" cy="70" fill="#13a4ec" r="3"></circle>
<circle cx="200" cy="40" fill="#13a4ec" r="3"></circle>
</svg>
</div>
<p class="text-sm text-background-dark/60 dark:text-background-light/60 mt-2 text-center">Your mood has been generally positive with some fluctuations this month.</p>
</div>
</div>
</main>
</div>
<footer class="sticky bottom-0 bg-background-light/80 dark:bg-background-dark/80 backdrop-blur-sm">
<div class="px-4 pb-4 pt-2">
<div class="flex gap-4">
  <button id="emergencyBtn" class="flex-1 flex items-center justify-center gap-2 p-4 rounded-xl bg-red-500/10 dark:bg-red-500/20 text-red-600 dark:text-red-400">
    <span class="material-symbols-outlined">sos</span>
    <span class="font-bold">Emergency Support</span>
  </button>

  <button id="proBtn" class="flex-1 flex items-center justify-center gap-2 p-4 rounded-xl bg-primary/10 dark:bg-primary/20 text-primary">
    <span class="material-symbols-outlined">support_agent</span>
    <span class="font-bold">Talk to a Counselor</span>
  </button>
</div>
</div>
<div class="border-t border-primary/10">
<nav class="flex justify-around px-2 pb-2 pt-1">
<a class="flex flex-1 flex-col items-center justify-center gap-1 rounded-full py-2 text-primary" href="#">
<span class="material-symbols-outlined" style="font-variation-settings: 'FILL' 1;">home</span>
<p class="text-xs font-bold">Home</p>
</a>
<a class="flex flex-1 flex-col items-center justify-center gap-1 rounded-full py-2 text-background-dark/60 dark:text-background-light/60 hover:text-primary" href="Library.html">
<span class="material-symbols-outlined">book</span>
<p class="text-xs font-medium">Library</p>
</a>
<a class="flex flex-1 flex-col items-center justify-center gap-1 rounded-full py-2 text-background-dark/60 dark:text-background-light/60 hover:text-primary" href="Communitynew.html">
<span class="material-symbols-outlined">group</span>
<p class="text-xs font-medium">Community</p>
</a>
<a class="flex flex-1 flex-col items-center justify-center gap-1 rounded-full py-2 text-background-dark/60 dark:text-background-light/60 hover:text-primary" href="Mood.html">
<span class="material-symbols-outlined">sentiment_satisfied</span>
<p class="text-xs font-medium">Mood</p>
</a>
</nav>
</div>
<div class="h-4 bg-background-light dark:bg-background-dark"></div>
</footer>
</div>
 <!-- Emergency Modal -->
<div id="emergencyModal" class="fixed inset-0 z-50 hidden items-center justify-center bg-black/40 px-4" role="dialog" aria-modal="true" aria-labelledby="emergencyTitle">
  <div class="bg-white dark:bg-gray-800 rounded-xl max-w-md w-full p-6 mx-auto">
    <div class="flex justify-between items-start gap-4">
      <div>
        <h3 id="emergencyTitle" class="text-lg font-bold text-background-dark dark:text-background-light">Emergency Support</h3>
        <p class="text-sm text-background-dark/60 dark:text-background-light/60 mt-1">If you are in immediate danger or need urgent help, please call one of the numbers below.</p>
      </div>
      <button id="emergencyClose" class="text-background-dark/60 dark:text-background-light/60">✕</button>
    </div>

    <div class="mt-4 space-y-3">
      <a href="tel:+256414000000" class="block w-full text-center px-4 py-3 bg-red-600 text-white rounded-lg">Call Campus Security — +256 414 000000</a>
      <a href="tel:+256774000000" class="block w-full text-center px-4 py-3 bg-amber-500 text-white rounded-lg">Call Mental Health Hotline — +256 774 000000</a>
      <a href="https://wa.me/256774000000" target="_blank" rel="noopener" class="block w-full text-center px-4 py-3 border rounded-lg">WhatsApp Support — +256 774 000000</a>
    </div>

    <div class="mt-4 flex justify-end">
      <button id="emergencyClose2" class="px-4 py-2 rounded-lg border">Close</button>
    </div>
  </div>
</div>

<!-- Talk to a Pro Modal -->
<div id="proModal" class="fixed inset-0 z-50 hidden items-center justify-center bg-black/40 px-4" role="dialog" aria-modal="true" aria-labelledby="proTitle">
  <div class="bg-white dark:bg-gray-800 rounded-xl max-w-md w-full p-6 mx-auto">
    <div class="flex justify-between items-start gap-4">
      <div>
        <h3 id="proTitle" class="text-lg font-bold text-background-dark dark:text-background-light">Talk to a Pro</h3>
        <p class="text-sm text-background-dark/60 dark:text-background-light/60 mt-1">Choose how you'd like to connect with a certified counselor or mental health worker.</p>
      </div>
      <button id="proClose" class="text-background-dark/60 dark:text-background-light/60">✕</button>
    </div>

    <div class="mt-4 space-y-3">
      <!-- direct call -->
      <a href="tel:+256782000000" class="block w-full text-center px-4 py-3 bg-primary text-white rounded-lg">Call a Pro — +256 782 000000</a>

      <!-- schedule demo: opens small form and saves to localStorage (demo only) -->
      <div id="scheduleArea" class="border rounded-lg p-3">
        <p class="text-sm text-background-dark/60 dark:text-background-light/60 mb-2">Schedule a session (demo):</p>
        <form id="scheduleForm" class="space-y-2">
          <input name="contact" placeholder="Phone or WhatsApp (optional)" class="w-full px-3 py-2 border rounded" />
          <input name="date" type="datetime-local" class="w-full px-3 py-2 border rounded" />
          <div class="flex gap-2">
            <button type="submit" class="flex-1 px-3 py-2 bg-primary text-white rounded-lg">Request session</button>
            <button type="button" id="scheduleCancel" class="px-3 py-2 border rounded-lg">Cancel</button>
          </div>
        </form>
        <div id="scheduleResult" class="hidden text-sm text-background-dark/60 dark:text-background-light/60 mt-2"></div>
      </div>

      <!-- chat link or fallback -->
      <button id="chatBtn" class="block w-full text-center px-4 py-3 border rounded-lg">Start Anonymous Chat</button>
    </div>

    <div class="mt-4 flex justify-end">
      <button id="proClose2" class="px-4 py-2 rounded-lg border">Close</button>
    </div>
  </div>
</div>  
<script>
  (function(){
    // Elements
    const emergencyBtn = document.getElementById('emergencyBtn');
    const proBtn = document.getElementById('proBtn');
    const emergencyModal = document.getElementById('emergencyModal');
    const proModal = document.getElementById('proModal');
    const emergencyClose = document.getElementById('emergencyClose');
    const emergencyClose2 = document.getElementById('emergencyClose2');
    const proClose = document.getElementById('proClose');
    const proClose2 = document.getElementById('proClose2');
    const scheduleForm = document.getElementById('scheduleForm');
    const scheduleResult = document.getElementById('scheduleResult');
    const scheduleCancel = document.getElementById('scheduleCancel');
    const chatBtn = document.getElementById('chatBtn');

    function openModal(modal) {
      if (!modal) return;
      modal.classList.remove('hidden');
      modal.classList.add('flex');
      // focus first focusable element
      const focusable = modal.querySelector('a, button, input, textarea, [tabindex]');
      if (focusable) focusable.focus();
    }
    function closeModal(modal) {
      if (!modal) return;
      modal.classList.add('hidden');
      modal.classList.remove('flex');
    }

    // Openers
    if (emergencyBtn) emergencyBtn.addEventListener('click', ()=> openModal(emergencyModal));
    if (proBtn) proBtn.addEventListener('click', ()=> openModal(proModal));

    // Closers
    [emergencyClose, emergencyClose2].forEach(btn => btn && btn.addEventListener('click', ()=> closeModal(emergencyModal)));
    [proClose, proClose2].forEach(btn => btn && btn.addEventListener('click', ()=> closeModal(proModal)));

    // Click outside to close
    [emergencyModal, proModal].forEach(modal => {
      if (!modal) return;
      modal.addEventListener('click', (e) => {
        if (e.target === modal) closeModal(modal);
      });
    });

    // Escape key closes any open modal
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') {
        closeModal(emergencyModal);
        closeModal(proModal);
      }
    });

    // Schedule form — demo: save to localStorage and show confirmation
    if (scheduleForm) {
      scheduleForm.addEventListener('submit', function(evt){
        evt.preventDefault();
        const form = new FormData(scheduleForm);
        const contact = form.get('contact') || '';
        const date = form.get('date') || '';
        const entry = { contact, date, createdAt: new Date().toISOString() };

        // Save demo schedule locally (no backend)
        const existing = JSON.parse(localStorage.getItem('cc_schedules') || '[]');
        existing.push(entry);
        localStorage.setItem('cc_schedules', JSON.stringify(existing));

        scheduleResult.classList.remove('hidden');
        scheduleResult.textContent = 'Request saved. We will contact you on the provided number (demo).';
        scheduleForm.reset();
      });

      scheduleCancel && scheduleCancel.addEventListener('click', () => {
        scheduleForm.reset();
        scheduleResult.classList.add('hidden');
      });
    }

    // Chat button behavior: go to Chat.html if present otherwise alert
    if (chatBtn) {
      chatBtn.addEventListener('click', () => {
        // Prefer an internal chat page if you have one
        if (location.pathname.endsWith('Chat.html') || location.pathname.endsWith('chat.html')) {
          // already on chat
          alert('You are already on chat.');
        } else {
          // try to open Chat.html if it exists on your site
          fetch('Chat.html', { method: 'HEAD' }).then(res => {
            if (res.ok) location.href = 'Chat.html';
            else alert('No internal chat page found — in production this could open an anonymous chat flow or WhatsApp.');
          }).catch(()=> {
            // network error or file missing
            alert('No internal chat page found — in production this could open an anonymous chat flow or WhatsApp.');
          });
        }
      });
    }

    // Optional: expose functions for console testing
    window._CampusCalm = { openModal, closeModal };

  })();
</script>
</body></html>
